{"remainingRequest":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\src\\components\\phone\\cart.vue?vue&type=style&index=0&id=7fa53484&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\src\\components\\phone\\cart.vue","mtime":1562319876908},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.top>img{\r\n    width:10px;height:18px;\r\n    margin-left:10px;\r\n    margin-top:15px;\r\n}\r\n.top>span{\r\n    margin-left:40%;\r\n}\r\n.check{\r\n    margin-top:20px;\r\n    margin-left:5px;\r\n    background-color:#faffa3;\r\n}\r\n.product{\r\n    background:#fff;\r\n    margin-top:10px;\r\n    border:1px solid red;\r\n    display:flex;\r\n\r\n}\r\n.product>.p-img{\r\n    display:flex;\r\n}\r\n.product>.p-img>input{\r\n    border:1px solid gray;\r\n    width:25px;\r\n    height:25px;\r\n    border-radius:50%;\r\n    margin:30px 5px;\r\n}\r\n.product>.p-img>img{\r\n    padding:5px;\r\n    width:100px;\r\n    height:100px;\r\n    border:1px solid #999;\r\n}\r\n.p-text{\r\n    margin-left:10px;\r\n    width:100%;\r\n    display:flex;\r\n    flex-direction: column;\r\n    justify-content: center\r\n}\r\n.p-text>.count{\r\n    width:100%;\r\n    display:flex;\r\n    justify-content: space-between;\r\n}\r\n.p-text>.count button{\r\n    width:30px;height:30px\r\n}\r\n.p-text>.count span{\r\n    text-align:center;\r\n    line-height:30px;\r\n    display:inline-block;\r\n    width:50px;\r\n    height:30px;\r\n}\r\n.p-text>.price{\r\n    margin-top:10px;\r\n    color:red;\r\n    font-size:15px;\r\n}\r\n.p-text>.count>a{\r\n    color:#999;\r\n}\r\n.account{\r\n    background:silver;\r\n    width:100%;\r\n    display:flex;\r\n    position:fixed;\r\n    bottom:8.5%;\r\n    justify-content: space-between;\r\n}\r\n.account>button{\r\n    margin-left:50px;\r\n    background:#fd5a5b;\r\n    width:98px;height:50px;\r\n}\r\n.account>div{\r\n    margin-top:17px;\r\n}\r\n.geli{\r\n    margin-bottom:60px;\r\n}\r\n",{"version":3,"sources":["cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cart.vue","sourceRoot":"src\\components\\phone","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n     <div v-if=\"nologin\">\r\n         <router-link to=\"/login\">请先登录</router-link>\r\n     </div>\r\n     <div v-if=\"!nologin\">\r\n      <div class=\"top\">\r\n         <img src=\"../../assets/jiantou.png\" alt=\"\">\r\n         <span>购物车</span>\r\n       </div>\r\n       <div class=\"check\">\r\n          <input type=\"checkbox\" id=\"check\" @change=\"selectAll\" v-model=\"chose\"><label for=\"check\">全选</label>  \r\n       </div>\r\n       <div class=\"geli\">\r\n       <div class=\"product\" v-for=\"(item,index) of list\" :key=\"index\">\r\n       <div class=\"p-img\">\r\n           <input type=\"checkbox\" v-model=\"item.cd\" @change=\"change\">\r\n            <img :src=\"`http://127.0.0.1:3000/`+item.img\" alt=\"\">\r\n        </div>\r\n        <div class=\"p-text\">\r\n           <span>{{item.title}}</span>\r\n           <span class=\"price\" >￥{{item.price}}</span>\r\n           <div class=\"count\">\r\n               <div>\r\n                   <button @click=\"reduce\" :data-index=\"`${index}`\" :data-amount=\"`${item.amount}`\">-</button>\r\n                   <span>{{item.amount}}</span>\r\n                   <button @click=\"add\" :data-index=\"`${index}`\">+</button>\r\n               </div>\r\n               <a href=\"javascript:;\" @click=\"delone\" :data-id=\"item.id\">删除</a>\r\n           </div>\r\n       </div>\r\n      </div>\r\n       <div class=\"account\">\r\n           <div>\r\n             <span >合计</span>\r\n             <span >￥{{all}}</span>\r\n           </div>\r\n           <button type=\"danger\">去结算</button>\r\n         </div>\r\n        </div>\r\n        </div>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n      return {\r\n       total:null,\r\n       list:[],\r\n       chose:\"\",\r\n       all:0,\r\n       nologin:true\r\n      }\r\n  },\r\n  created(){\r\n      this.loadmore();\r\n  },\r\n  methods:{\r\n   loadmore(){\r\n       var username=sessionStorage.getItem(\"userName\")\r\n       this.axios.get(\"cart\",{params:{username}}).then(res=>{\r\n        //    this.list=this.list.concat(res.data.data);\r\n           var arr=res.data.data;\r\n           for(var item of arr){\r\n               item.cd=false;\r\n           }\r\n           this.list=arr;\r\n       })\r\n       console.log(2222222222)\r\n       var username=sessionStorage.getItem(\"userName\")\r\n       if(username){\r\n        this.nologin=false\r\n       }\r\n    //   for(var i=0;i<this.list.lenght;i++){\r\n    //       this.total=parseInt(this.list[i].amount*this.list[i].price)\r\n    //       console.log(this.list[i].amount)\r\n    //   }\r\n   },\r\n   reduce(e){\r\n       var index=e.target.dataset.index;\r\n    //    console.log(this.list)\r\n    //    console.log(index)\r\n       if(this.list[index].amount>1){\r\n           this.list[index].amount--;\r\n           this.calc()\r\n       }\r\n   },\r\n   add(e){\r\n       var index=e.target.dataset.index;\r\n       this.list[index].amount++;\r\n       this.calc()\r\n   },\r\n   //单选控制多选\r\n   change(){\r\n       var count=0;\r\n       for(var i=0;i<this.list.length;i++){\r\n           if(this.list[i].cd==true){\r\n               count++;\r\n           }else if(this.list[i].cd==false){\r\n               count--\r\n           }\r\n           if(count==this.list.length){\r\n               this.chose=true\r\n           }else{\r\n               this.chose=false\r\n           }\r\n           this.calc()\r\n       }\r\n   },\r\n   delone(e){\r\n       var id=e.target.dataset.id;\r\n       this.$messagebox({\r\n           title:\"是否删除选中商品\",\r\n           showCancelButton:true\r\n       }).then(pd=>{\r\n           if(pd==\"confirm\"){\r\n               this.axios.get(\"del\",{params:{id:id}}).then(res=>{\r\n                   console.log(111111111)\r\n                   this.loadmore();\r\n               })\r\n           }\r\n       })\r\n   },\r\n   selectAll(e){\r\n       var rs=e.target.checked;\r\n    //    console.log(rs)\r\n    //    console.log(this.list)\r\n     for(var item of this.list){\r\n         item.cd=e.target.checked;\r\n        //  console.log(item.cd)\r\n        //  this.loadmore()\r\n     }\r\n   },\r\n   calc(){\r\n       var money=0;\r\n       for(var i=0;i<this.list.length;i++){\r\n           if(this.list[i].cd){\r\n               money+=this.list[i].price*this.list[i].amount\r\n           }\r\n       }\r\n       this.all=money\r\n   }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.top>img{\r\n    width:10px;height:18px;\r\n    margin-left:10px;\r\n    margin-top:15px;\r\n}\r\n.top>span{\r\n    margin-left:40%;\r\n}\r\n.check{\r\n    margin-top:20px;\r\n    margin-left:5px;\r\n    background-color:#faffa3;\r\n}\r\n.product{\r\n    background:#fff;\r\n    margin-top:10px;\r\n    border:1px solid red;\r\n    display:flex;\r\n\r\n}\r\n.product>.p-img{\r\n    display:flex;\r\n}\r\n.product>.p-img>input{\r\n    border:1px solid gray;\r\n    width:25px;\r\n    height:25px;\r\n    border-radius:50%;\r\n    margin:30px 5px;\r\n}\r\n.product>.p-img>img{\r\n    padding:5px;\r\n    width:100px;\r\n    height:100px;\r\n    border:1px solid #999;\r\n}\r\n.p-text{\r\n    margin-left:10px;\r\n    width:100%;\r\n    display:flex;\r\n    flex-direction: column;\r\n    justify-content: center\r\n}\r\n.p-text>.count{\r\n    width:100%;\r\n    display:flex;\r\n    justify-content: space-between;\r\n}\r\n.p-text>.count button{\r\n    width:30px;height:30px\r\n}\r\n.p-text>.count span{\r\n    text-align:center;\r\n    line-height:30px;\r\n    display:inline-block;\r\n    width:50px;\r\n    height:30px;\r\n}\r\n.p-text>.price{\r\n    margin-top:10px;\r\n    color:red;\r\n    font-size:15px;\r\n}\r\n.p-text>.count>a{\r\n    color:#999;\r\n}\r\n.account{\r\n    background:silver;\r\n    width:100%;\r\n    display:flex;\r\n    position:fixed;\r\n    bottom:8.5%;\r\n    justify-content: space-between;\r\n}\r\n.account>button{\r\n    margin-left:50px;\r\n    background:#fd5a5b;\r\n    width:98px;height:50px;\r\n}\r\n.account>div{\r\n    margin-top:17px;\r\n}\r\n.geli{\r\n    margin-bottom:60px;\r\n}\r\n</style>"]}]}