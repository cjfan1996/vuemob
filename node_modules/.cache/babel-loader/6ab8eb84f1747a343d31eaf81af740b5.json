{"remainingRequest":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00 - 副本\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00 - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00 - 副本\\src\\components\\phone\\cart.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00 - 副本\\src\\components\\phone\\cart.vue","mtime":1562845749884},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00 - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00 - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00 - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      total: null,\n      list: [],\n      chose: \"\",\n      all: 0,\n      nologin: true\n    };\n  },\n  created: function created() {\n    this.loadmore();\n  },\n  methods: {\n    loadmore: function loadmore() {\n      var _this = this;\n\n      var username = sessionStorage.getItem(\"userName\");\n      this.axios.get(\"cart\", {\n        params: {\n          username: username\n        }\n      }).then(function (res) {\n        //    this.list=this.list.concat(res.data.data);\n        var arr = res.data.data;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var item = _step.value;\n            item.cd = false;\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        _this.list = arr;\n      });\n      console.log(2222222222);\n      var username = sessionStorage.getItem(\"userName\");\n\n      if (username) {\n        this.nologin = false;\n      } //   for(var i=0;i<this.list.lenght;i++){\n      //       this.total=parseInt(this.list[i].amount*this.list[i].price)\n      //       console.log(this.list[i].amount)\n      //   }\n\n    },\n    reduce: function reduce(e) {\n      var index = e.target.dataset.index; //    console.log(this.list)\n      //    console.log(index)\n\n      if (this.list[index].amount > 1) {\n        this.list[index].amount--;\n        this.calc();\n      }\n    },\n    add: function add(e) {\n      var index = e.target.dataset.index;\n      this.list[index].amount++;\n      this.calc();\n    },\n    //单选控制多选\n    change: function change() {\n      var count = 0;\n\n      for (var i = 0; i < this.list.length; i++) {\n        if (this.list[i].cd == true) {\n          count++;\n        } else if (this.list[i].cd == false) {\n          count--;\n        }\n\n        if (count == this.list.length) {\n          this.chose = true;\n        } else {\n          this.chose = false;\n        }\n\n        this.calc();\n      }\n    },\n    delone: function delone(e) {\n      var _this2 = this;\n\n      var id = e.target.dataset.id;\n      this.$messagebox({\n        title: \"是否删除选中商品\",\n        showCancelButton: true\n      }).then(function (pd) {\n        if (pd == \"confirm\") {\n          _this2.axios.get(\"del\", {\n            params: {\n              id: id\n            }\n          }).then(function (res) {\n            console.log(111111111);\n\n            _this2.loadmore();\n          });\n        }\n      });\n    },\n    selectAll: function selectAll(e) {\n      var rs = e.target.checked; //    console.log(rs)\n      //    console.log(this.list)\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.list[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var item = _step2.value;\n          item.cd = e.target.checked; //  console.log(item.cd)\n          //  this.loadmore()\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    },\n    calc: function calc() {\n      var money = 0;\n\n      for (var i = 0; i < this.list.length; i++) {\n        if (this.list[i].cd) {\n          money += this.list[i].price * this.list[i].amount;\n        }\n      }\n\n      this.all = money;\n    }\n  }\n};",{"version":3,"sources":["cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n     <div v-if=\"nologin\" class=\"nologin\">\r\n         <router-link to=\"/login\" class=\"jump_login\">请先登录</router-link>  \r\n     </div>\r\n     <div v-if=\"!nologin\">\r\n      <div class=\"top\">\r\n         <img src=\"../../assets/jiantou.png\" alt=\"\">\r\n         <span>购物车</span>\r\n       </div>\r\n       <div class=\"check\">\r\n          <input type=\"checkbox\" id=\"check\" @change=\"selectAll\" v-model=\"chose\"><label for=\"check\">全选</label>  \r\n       </div>\r\n       <div class=\"geli\">\r\n       <div class=\"product\" v-for=\"(item,index) of list\" :key=\"index\">\r\n       <div class=\"p-img\">\r\n           <input type=\"checkbox\" v-model=\"item.cd\" @change=\"change\">\r\n            <img :src=\"`http://127.0.0.1:3000/`+item.img\" alt=\"\">\r\n        </div>\r\n        <div class=\"p-text\">\r\n           <span>{{item.title}}</span>\r\n           <span class=\"price\" >￥{{item.price}}</span>\r\n           <div class=\"count\">\r\n               <div>\r\n                   <button @click=\"reduce\" :data-index=\"`${index}`\" :data-amount=\"`${item.amount}`\">-</button>\r\n                   <span>{{item.amount}}</span>\r\n                   <button @click=\"add\" :data-index=\"`${index}`\">+</button>\r\n               </div>\r\n               <a href=\"javascript:;\" @click=\"delone\" :data-id=\"item.id\">删除</a>\r\n           </div>\r\n       </div>\r\n      </div>\r\n       <div class=\"account\">\r\n           <div>\r\n             <span >合计</span>\r\n             <span >￥{{all}}</span>\r\n           </div>\r\n           <button type=\"danger\">去结算</button>\r\n         </div>\r\n        </div>\r\n        </div>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n      return {\r\n       total:null,\r\n       list:[],\r\n       chose:\"\",\r\n       all:0,\r\n       nologin:true\r\n      }\r\n  },\r\n  created(){\r\n      this.loadmore();\r\n  },\r\n  methods:{\r\n   loadmore(){\r\n       var username=sessionStorage.getItem(\"userName\")\r\n       this.axios.get(\"cart\",{params:{username}}).then(res=>{\r\n        //    this.list=this.list.concat(res.data.data);\r\n           var arr=res.data.data;\r\n           for(var item of arr){\r\n               item.cd=false;\r\n           }\r\n           this.list=arr;\r\n       })\r\n       console.log(2222222222)\r\n       var username=sessionStorage.getItem(\"userName\")\r\n       if(username){\r\n        this.nologin=false\r\n       }\r\n    //   for(var i=0;i<this.list.lenght;i++){\r\n    //       this.total=parseInt(this.list[i].amount*this.list[i].price)\r\n    //       console.log(this.list[i].amount)\r\n    //   }\r\n   },\r\n   reduce(e){\r\n       var index=e.target.dataset.index;\r\n    //    console.log(this.list)\r\n    //    console.log(index)\r\n       if(this.list[index].amount>1){\r\n           this.list[index].amount--;\r\n           this.calc()\r\n       }\r\n   },\r\n   add(e){\r\n       var index=e.target.dataset.index;\r\n       this.list[index].amount++;\r\n       this.calc()\r\n   },\r\n   //单选控制多选\r\n   change(){\r\n       var count=0;\r\n       for(var i=0;i<this.list.length;i++){\r\n           if(this.list[i].cd==true){\r\n               count++;\r\n           }else if(this.list[i].cd==false){\r\n               count--\r\n           }\r\n           if(count==this.list.length){\r\n               this.chose=true\r\n           }else{\r\n               this.chose=false\r\n           }\r\n           this.calc()\r\n       }\r\n   },\r\n   delone(e){\r\n       var id=e.target.dataset.id;\r\n       this.$messagebox({\r\n           title:\"是否删除选中商品\",\r\n           showCancelButton:true\r\n       }).then(pd=>{\r\n           if(pd==\"confirm\"){\r\n               this.axios.get(\"del\",{params:{id:id}}).then(res=>{\r\n                   console.log(111111111)\r\n                   this.loadmore();\r\n               })\r\n           }\r\n       })\r\n   },\r\n   selectAll(e){\r\n       var rs=e.target.checked;\r\n    //    console.log(rs)\r\n    //    console.log(this.list)\r\n     for(var item of this.list){\r\n         item.cd=e.target.checked;\r\n        //  console.log(item.cd)\r\n        //  this.loadmore()\r\n     }\r\n   },\r\n   calc(){\r\n       var money=0;\r\n       for(var i=0;i<this.list.length;i++){\r\n           if(this.list[i].cd){\r\n               money+=this.list[i].price*this.list[i].amount\r\n           }\r\n       }\r\n       this.all=money\r\n   }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.jump_login{\r\n    display:block;\r\n    width:100px;height:50px;\r\n    background-color:#dcdddd;\r\n    color:#333;\r\n    border-radius:10px;\r\n    text-align: center;\r\n    line-height:50px;\r\n    position:absolute;\r\n    top:50%;\r\n    left:65%;  \r\n}\r\n.nologin{\r\n    height:600px;\r\n    background-image:url(../../assets/u=3980892961,3878306228&fm=26&gp=0.jpg);\r\n    background-size:100%;\r\n    background-repeat: no-repeat;\r\n    background-position-y: 50%;\r\n}\r\n.top>img{\r\n    width:10px;height:18px;\r\n    margin-left:10px;\r\n    margin-top:15px;\r\n}\r\n.top>span{\r\n    margin-left:40%;\r\n}\r\n.check{\r\n    margin-top:20px;\r\n    margin-left:5px;\r\n    background-color:#faffa3;\r\n}\r\n.product{\r\n    background:#fff;\r\n    margin-top:10px;\r\n    border:1px solid red;\r\n    display:flex;\r\n\r\n}\r\n.product>.p-img{\r\n    display:flex;\r\n}\r\n.product>.p-img>input{\r\n    border:1px solid gray;\r\n    width:25px;\r\n    height:25px;\r\n    border-radius:50%;\r\n    margin:30px 5px;\r\n}\r\n.product>.p-img>img{\r\n    padding:5px;\r\n    width:100px;\r\n    height:100px;\r\n    border:1px solid #999;\r\n}\r\n.p-text{\r\n    margin-left:10px;\r\n    width:100%;\r\n    display:flex;\r\n    flex-direction: column;\r\n    justify-content: center\r\n}\r\n.p-text>.count{\r\n    width:100%;\r\n    display:flex;\r\n    justify-content: space-between;\r\n}\r\n.p-text>.count button{\r\n    width:30px;height:30px\r\n}\r\n.p-text>.count span{\r\n    text-align:center;\r\n    line-height:30px;\r\n    display:inline-block;\r\n    width:50px;\r\n    height:30px;\r\n}\r\n.p-text>.price{\r\n    margin-top:10px;\r\n    color:red;\r\n    font-size:15px;\r\n}\r\n.p-text>.count>a{\r\n    color:#999;\r\n}\r\n.account{\r\n    background:silver;\r\n    width:100%;\r\n    display:flex;\r\n    position:fixed;\r\n    bottom:8.5%;\r\n    justify-content: space-between;\r\n}\r\n.account>button{\r\n    margin-left:50px;\r\n    background:#fd5a5b;\r\n    width:98px;height:50px;\r\n}\r\n.account>div{\r\n    margin-top:17px;\r\n}\r\n.geli{\r\n    margin-bottom:60px;\r\n}\r\n</style>"],"sourceRoot":"src\\components\\phone"}]}