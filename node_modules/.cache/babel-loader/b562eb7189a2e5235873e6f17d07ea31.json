{"remainingRequest":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\src\\components\\phone\\details.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\src\\components\\phone\\details.vue","mtime":1562319636580},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1534853420000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\86150\\Desktop\\笔记\\xin\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      id: \"\",\n      list: []\n    };\n  },\n  created: function created() {\n    //获取从列表页传过来的id\n    var newid = this.$route.query.id;\n    console.log(newid);\n    this.id = newid;\n    this.loadmore();\n  },\n  methods: {\n    loadmore: function loadmore() {\n      var _this = this;\n\n      this.axios.get('details', {\n        params: {\n          id: this.id\n        }\n      }).then(function (res) {\n        _this.list = _this.list.concat(res.data.data);\n        console.log(res.data.data);\n      });\n    },\n    add: function add(e) {\n      var index = e.target.dataset.index;\n      this.list[index].amcount++;\n    },\n    reduce: function reduce(e) {\n      var index = e.target.dataset.index;\n\n      if (this.list[index].amcount > 0) {\n        this.list[index].amcount--;\n      }\n    },\n    addCart: function addCart(e) {\n      var _this2 = this;\n\n      var username = sessionStorage.getItem(\"userName\");\n      var title = e.target.dataset.title;\n      var amcount = e.target.dataset.amcount;\n      var img = e.target.dataset.img;\n      var price = e.target.dataset.price;\n      console.log(amcount, img, price, title);\n\n      if (!username) {\n        this.$toast(\"请先登录\");\n        this.$router.push('/login');\n      } else {\n        this.axios.get(\"insert\", {\n          params: {\n            username: username,\n            img: img,\n            amount: amcount,\n            title: title,\n            price: price\n          }\n        }).then(function (res) {\n          if (res.data.code == 1) {\n            console.log(res);\n\n            _this2.$router.push(\"/home\");\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,UAAA,EADA;AAEA,YAAA;AAFA,KAAA;AAIA,GANA;AAOA,SAPA,qBAOA;AACA;AACA,QAAA,QAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,KAAA;AACA,SAAA,EAAA,GAAA,KAAA;AACA,SAAA,QAAA;AACA,GAbA;AAcA,WAAA;AACA,YADA,sBACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,SAAA,EAAA;AAAA,gBAAA;AAAA,cAAA,KAAA;AAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA,cAAA,IAAA,GAAA,MAAA,IAAA,CAAA,MAAA,CAAA,IAAA,IAAA,CAAA,IAAA,CAAA;AACA,gBAAA,GAAA,CAAA,IAAA,IAAA,CAAA,IAAA;AACA,OAHA;AAKA,KAPA;AAQA,OARA,eAQA,CARA,EAQA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,WAAA,IAAA,CAAA,KAAA,EAAA,OAAA;AACA,KAXA;AAYA,UAZA,kBAYA,CAZA,EAYA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA;;AACA,UAAA,KAAA,IAAA,CAAA,KAAA,EAAA,OAAA,GAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,KAAA,EAAA,OAAA;AACA;AACA,KAjBA;AAkBA,WAlBA,mBAkBA,CAlBA,EAkBA;AAAA;;AACA,UAAA,WAAA,eAAA,OAAA,CAAA,UAAA,CAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,UAAA,UAAA,EAAA,MAAA,CAAA,OAAA,CAAA,OAAA;AACA,UAAA,MAAA,EAAA,MAAA,CAAA,OAAA,CAAA,GAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,cAAA,GAAA,CAAA,OAAA,EAAA,GAAA,EAAA,KAAA,EAAA,KAAA;;AACA,UAAA,CAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,CAAA,GAAA,CAAA,QAAA,EAAA;AAAA,kBAAA;AAAA,8BAAA;AAAA,oBAAA;AAAA,oBAAA,OAAA;AAAA,wBAAA;AAAA;AAAA;AAAA,SAAA,EAAA,IAAA,CAAA,eAAA;AACA,cAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,oBAAA,GAAA,CAAA,GAAA;;AACA,mBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,SALA;AAMA;AAEA;AArCA;AAdA,CAAA","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n     <mt-swipe :auto=3000 style=\"width:100%;height:276px;\" class=\"banner\">\r\n        <mt-swipe-item><img src=\"../../assets/7946537_1538990219.jpg\" alt=\"\" style=\"width:100%;height:276px;\"></mt-swipe-item>\r\n        <mt-swipe-item><img src=\"../../assets/7946537_1538990219.jpg\" alt=\"\" style=\"width:100%;height:276px;\"></mt-swipe-item>\r\n        <mt-swipe-item><img src=\"../../assets/7946537_1538990219.jpg\" alt=\"\" style=\"width:100%;height:276px;\"></mt-swipe-item>\r\n     </mt-swipe>\r\n     <div class=\"introduce\" v-for=\"(item,index) of list\" :key=\"index\">\r\n         <p>{{item.title}}</p>\r\n         <h1>{{item.price*item.amcount}}</h1>\r\n          <p>{{item.number}}</p> \r\n          <div class=\"count\">\r\n              <div>\r\n                  <button @click=\"reduce\" :data-index=\"`${index}`\">-</button>\r\n                  <span>{{item.amcount}}</span>\r\n                  <button @click=\"add\" :data-index=\"`${index}`\">+</button>\r\n              </div>\r\n            <mt-button type=\"danger\"  @click=\"addCart\" :data-title=\"item.title\" :data-price=\"item.price\" :data-img=\"item.img\" :data-amcount=\"item.amcount\">加入购物车</mt-button>\r\n          </div>\r\n         \r\n     </div>\r\n     <p class=\"direction\">\r\n          <span>产品说明</span> \r\n          <img src=\"../../assets/方向 - 下.png\" alt=\"\"> \r\n     </p>\r\n    <p>相关推荐</p>\r\n    <div class=\"small_img\">\r\n        <div v-for=\"(item,index) of 5\" :key=\"index\">\r\n            <img src=\"../../assets/small/7946219_1538989691.jpg\" alt=\"\">\r\n            <p>字符喷印机 PY300D</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"bottom\">\r\n        <div>\r\n            <img src=\"../../assets/客服.png\" alt=\"\">\r\n            <p>客服</p>\r\n        </div>\r\n         <div>\r\n            <img src=\"../../assets/星星-线.png\" alt=\"\">\r\n            <p>收藏</p>\r\n        </div>\r\n    </div>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n     data(){\r\n         return {\r\n            id:\"\",\r\n            list:[]\r\n         }\r\n     },\r\n     created(){\r\n         //获取从列表页传过来的id\r\n         var newid=this.$route.query.id;\r\n         console.log(newid);\r\n         this.id=newid\r\n         this.loadmore()\r\n     },\r\n     methods:{\r\n         loadmore(){\r\n             this.axios.get('details',{params:{id:this.id}}).then(res=>{\r\n              this.list=this.list.concat(res.data.data)\r\n             console.log(res.data.data)\r\n             })\r\n             \r\n         },\r\n         add(e){\r\n             var index=e.target.dataset.index;\r\n             this.list[index].amcount++;\r\n         },\r\n         reduce(e){\r\n             var index=e.target.dataset.index;\r\n             if(this.list[index].amcount>0){\r\n                 this.list[index].amcount--;\r\n             }\r\n         },\r\n         addCart(e){\r\n             var username=sessionStorage.getItem(\"userName\")\r\n           var title=e.target.dataset.title;\r\n           var amcount=e.target.dataset.amcount;\r\n           var img=e.target.dataset.img;\r\n           var price=e.target.dataset.price;\r\n          console.log(amcount,img,price,title)\r\n          if(!username){\r\n              this.$toast(\"请先登录\")\r\n              this.$router.push('/login')\r\n          }else{\r\n               this.axios.get(\"insert\",{params:{username,img,amount:amcount,title,price}}).then(res=>{\r\n            if(res.data.code==1){\r\n               console.log(res)\r\n               this.$router.push(\"/home\")\r\n            }\r\n        })\r\n          }\r\n\r\n         }\r\n     }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.introduce>p{\r\n    margin-left:10px;\r\n    color:#232326;\r\n}\r\nh1{\r\n    font:22px Helvetica;\r\n    color:#ff3e3e;\r\n    margin-left:20px;\r\n}\r\n.direction{\r\n    border-top:1px solid gray;\r\n    display:flex;\r\n    justify-content: space-between;\r\n    line-height:40px;\r\n    margin-left:10px;\r\n}\r\n.direction>img{\r\n    width:40px;height:40px;\r\n}\r\n.small_img{\r\n    margin-top:10px;\r\n    display:flex;\r\n    flex-wrap: wrap;\r\n}\r\n.small_img>div{\r\n    padding:5px;\r\n    width:33%;height:191px;\r\n}\r\n.small_img>div>img{\r\n    margin-top:10px;\r\n    width:104px;height:83px;\r\n    margin-bottom:20px;\r\n}\r\n.small_img>div>p{\r\n    margin-left:10px;\r\n}\r\n.bottom{\r\n    background:#f2e6e6;\r\n    position:fixed;\r\n    width:100%;\r\n    bottom:0;\r\n    display:flex;\r\n    justify-content: space-around;\r\n}\r\n.bottom>div>img{\r\n    width:40px;height:42px;\r\n    margin-left:4px;\r\n}\r\n.bottom>div{\r\n    display:flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.bottom>div>p{\r\n    margin:0 auto;\r\n}\r\n.introduce>div{\r\n    text-align:right;\r\n}\r\n.count{\r\n    display:flex;\r\n    justify-content: space-between;\r\n}\r\n.count>div>button{\r\nwidth:30px;height:30px;\r\n}\r\n.count span{\r\n     text-align:center;\r\n    /* line-height:30px; */\r\n    display:inline-block;\r\n    width:50px;\r\n    height:30px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\phone"}]}